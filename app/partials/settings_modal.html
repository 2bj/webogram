<div class="settings_modal_wrap">

  <div class="modal-header">
    <a class="modal-close-link" ng-click="$close()" data-l20n="mdl_close"></a>
    <h4 class="modal-title" data-l20n="mdl_settings_title"></h4>
  </div>

  <div class="modal-body">

    <div class="clearfix">

      <div class="settings_profile_photo_wrap pull-left">

        <div class="settings_profile_photo">
          <img
            class="user_modal_image"
            my-load-thumb
            thumb="profile.photo"
          />
          <div class="settings_profile_photo_change_wrap">
            <div ng-if="photo.updating" class="settings_profile_photo_loading" data-l20n="mdl_settings_photo_updating"><span my-typing-dots></span></div>
            <div ng-if="!photo.updating">
              <div class="settings_profile_photo_update_link" data-l20n="mdl_settings_photo_update">
                <input my-file-upload  type="file" multiple="false" class="im_attach_input" size="120" multiple="false" accept="image/x-png, image/png, image/gif, image/jpeg" />
              </div>
              <a ng-if="profile.photo.location" href="" ng-click="deletePhoto()" class="settings_profile_photo_delete_link" data-l20n="mdl_settings_photo_delete"></a>
            </div>
          </div>
        </div>

      </div>

      <form my-settings-form name="profileForm" class="settings_profile_edit_form">

        <div class="form-group settings_profile_first_name" ng-class="{'has-error': error.field == 'first_name'}">
          <label class="control-label" for="first_name">
            <span ng-if="error.field == 'first_name'" data-l20n="mdl_settings_firstname_invalid"></span>
            <span ng-if="error.field != 'first_name'" data-l20n="mdl_settings_firstname_label"></span>
          </label>
          <input type="text" class="form-control" name="first_name" ng-model="profile.first_name" required />
        </div>

        <div class="form-group settings_profile_last_name" ng-class="{'has-error': error.field == 'last_name'}">
          <label class="control-label" for="last_name">
            <span ng-if="error.field == 'last_name'" data-l20n="mdl_settings_lastname_invalid"></span>
            <span ng-if="error.field != 'last_name'" data-l20n="mdl_settings_lastname_label"></span>
          </label>
          <input type="text" class="form-control" name="last_name" ng-model="profile.last_name" />
        </div>

        <div class="settings_profile_save">
          <button class="btn btn-link settings_profile_save_btn" ng-click="save(profileForm)" ng-disabled="profileForm.$invalid || (!profileForm.last_name.$dirty &amp;&amp; !profileForm.first_name.$dirty)" data-l20n="mdl_settings_name_save"></button>
        </div>

      </form>

    </div>

    <form class="settings_send_choose_form">
      <div class="radio">
        <label data-l20n="mdl_settings_send_enter">
          <input type="radio" value="1" ng-model="send.enter">
          <strong></strong><strong></strong>
        </label>
      </div>
      <div class="radio">
        <label data-l20n="mdl_settings_send_cltrenter">
          <input type="radio" value="" ng-model="send.enter">
          <strong></strong><strong></strong>
        </label>
      </div>
    </form>

    <p data-l20n="mdl_settings_sound">
      <strong></strong>
      <a ng-click="notify.sound = !notify.sound" ng-class="{checkbox_on: notify.sound}">
        <span class="checkbox_text_on"></span>
        <span class="checkbox_text_off"></span>
      </a>
    </p>

    <p data-l20n="mdl_settings_desktop">
      <strong></strong>
      <a ng-click="notify.desktop = !notify.desktop" ng-class="{checkbox_on: notify.desktop}">
        <span class="checkbox_text_on"></span>
        <span class="checkbox_text_off"></span>
      </a>
    </p>

    <p>
      <strong data-l20n="mdl_settings_current_user"></strong>
      <span class="settings_user_phone">{{phone | phoneNumber}}</span>
    </p>

    <p>
      <strong data-l20n="mdl_settings_version"></strong>
      <span class="settings_version">alpha 0.0.19</span>
    </p>

    <hr/>

    <div class="settings_logout_wrap">
      <a href="" ng-click="logOut()" data-l20n="mdl_settings_logout"></a>
    </div>
  </div>
</div>
